<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<title>Pedroflix</title>
<link rel="stylesheet" th:href="@{/bootstrap-5.1.3-dist/css/bootstrap.min.css}">
<link rel="stylesheet" th:href="@{/styles/style.css}">
<script th:src="@{/jquery-3.6.0-dist/jquery-3.6.0.min.js}"></script>
<script th:src="@{/bootstrap-5.1.3-dist/js/bootstrap.min.js}"></script>
<style>
td {text-align: center;vertical-align: middle;}
th {text-align: center;vertical-align: middle;}
</style>
</head>
<body>
<div th:insert="fragments/publica-nav :: nav"></div>
<br><div class="container">

	<div class="row">
	
		<div class="col">
		
				<h1 align= "center" th:text="#{movies.list}"></h1>
				<table class = "table table-dark table-hover">
			    <thead>
			        <tr>
			            <th th:text="#{movies.name}"></th>
			            <th th:text="#{movies.score}"></th>
			            <th th:text="#{movies.releasedate}"></th>
			            <th th:text="#{movies.duration}"></th>    
			            <th th:text="#{movies.cover}"></th>
			            <th th:text="#{movies.delete}"></th>
			            <th th:text="#{movies.edit}"></th>
			        </tr>
			    </thead>
			    <tbody>
				<tr th:if="${filmes.empty}">
			            <td colspan="2" th:text="#{movies.empty}"></td>
			        </tr>
			        <tr th:each="filme : ${filmes}">
			            <td><span th:text="${filme.nome}">  </span></td>
			            <td><span th:text="${filme.pontuacaoCritica}"> </span></td>
			            <td><span th:text="${filme.dataLancamento}"> </span></td>
			            <td><span th:text="${filme.duracaoFilme}"> </span></td>
			            <td>
				<img style= "height: 75px; width: 60px;"th:src="${filme.linkImg}" onerror="Erro">
				</td>
				<td>
					<a class="btn btn-outline-danger btn-sm" 
					   th:href="@{/filme/admin/apagar/{id}(id=${filme.id})}"
					   th:data-confirm-delete="|VocÃª gostaria de apagar ${filme.nome}?|"
  					   onclick="if (!confirm(this.getAttribute('data-confirm-delete'))) return false" th:text="#{movies.delete}">
					</a>
				</td>				
				<td>
					<a class="btn btn-outline-primary btn-sm" 
					   th:href="@{/filme/editar/{id}(id=${filme.id})}" th:text="#{movies.edit}">
					   </a>
				</td>
				
			        </tr>
			    </tbody>
			</table>
			</div>
		</div>
	</div>
</body>
</html>


